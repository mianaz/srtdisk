% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SaveH5MU.R
\name{SaveH5MU}
\alias{SaveH5MU}
\alias{as.h5mu}
\title{Save a Seurat object to an H5MU file}
\usage{
SaveH5MU(
  object,
  filename,
  assays = NULL,
  modality.names = NULL,
  include.spatial = TRUE,
  overwrite = FALSE,
  verbose = TRUE,
  ...
)

as.h5mu(object, filename, ...)
}
\arguments{
\item{object}{A Seurat object}

\item{filename}{Output filename}

\item{assays}{Character vector of assay names to export. If NULL (default),
exports all assays}

\item{modality.names}{Named vector mapping assay names to desired modality
names in the h5mu file. If NULL, uses reverse of standard mapping
(RNA→rna, ADT→prot, ATAC→atac, etc.)}

\item{include.spatial}{Logical; if TRUE, includes spatial data (coordinates,
images, scalefactors) in the h5mu file}

\item{overwrite}{Overwrite existing file}

\item{verbose}{Show progress messages}

\item{...}{Additional arguments passed to SaveH5MU}
}
\value{
Invisibly returns the filename

Invisibly returns the filename
}
\description{
Export multimodal Seurat objects to MuData (.h5mu) format. This function wraps
MuDataSeurat::WriteH5MU with additional support for spatial data preservation
and Seurat V5 layer handling.
}
\details{
The h5mu format is designed for multimodal data and stores each Seurat assay
as a separate modality under \code{/mod/{modality_name}}. This function:
\itemize{
  \item Extracts each specified assay from the Seurat object
  \item Converts assays to modality structure
  \item Writes counts, data, and scale.data layers for each modality
  \item Preserves cell metadata in both global /obs and per-modality obs
  \item Includes spatial data if requested
  \item Maintains dimensional reductions and graphs
}
}
\section{Assay Mapping}{

By default, Seurat assay names are mapped to standard MuData modality names:
\itemize{
  \item RNA → rna
  \item ADT → prot
  \item ATAC → atac
  \item Spatial → spatial
  \item Other names are converted to lowercase
}
}

\examples{
\dontrun{
# Save a multimodal Seurat object (CITE-seq)
SaveH5MU(seurat_obj, "multimodal_data.h5mu")

# Save specific assays only
SaveH5MU(seurat_obj, "rna_and_protein.h5mu", assays = c("RNA", "ADT"))

# Custom modality name mapping
SaveH5MU(
  seurat_obj,
  "data.h5mu",
  modality.names = c(RNA = "rna", Protein = "prot")
)

# Include spatial data
SaveH5MU(visium_obj, "spatial_multimodal.h5mu", include.spatial = TRUE)
}

}
